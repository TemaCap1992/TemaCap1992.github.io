{"version":3,"sources":["components/Input/Input.jsx","App.js","reportWebVitals.js","index.js","components/Input/styles.module.css"],"names":["Input","onChangeText","value","placeholder","onChange","useCallback","event","target","className","styles","input","timerId","App","useState","show","setShow","showStorage","setShowStorage","setValue","pictures","setPictures","picturesSaved","setPicturesSaved","loading","setLoading","requestEnd","setRequestEnd","pageNumber","setPageNumber","useEffect","clearTimeout","setTimeout","getPictures","a","fetch","response","json","result","picArray","photos","photo","map","pic","photoName","title","srcPath","farm","server","id","secret","console","log","savedItem","localStorage","getItem","jsonSavedItem","JSON","parse","onClick","item","alt","src","find","elem","push","setItem","stringify","length","filteredPictures","filter","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.2dffaf17.chunk.js","sourcesContent":["import React, { useCallback } from 'react';\r\nimport styles from './styles.module.css'\r\n\r\nexport function Input({ onChangeText, value, placeholder }) {\r\n    const onChange = useCallback((event) => {\r\n        onChangeText(event.target.value);\r\n    }, [onChangeText]);\r\n\r\n    return <input className={styles.input} onChange={onChange} value={value} placeholder={placeholder} />\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react'\nimport './App.css';\nimport { Input } from './components'\nimport BeatLoader from 'react-spinners/BeatLoader'\n\nlet timerId = null;\n\nfunction App() {\n  const [show, setShow] = useState(true)\n  const [showStorage, setShowStorage] = useState(false)\n  const [value, setValue] = useState('');\n  const [pictures, setPictures] = useState([]);\n  const [picturesSaved, setPicturesSaved] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [requestEnd, setRequestEnd] = useState(false);\n  let [pageNumber, setPageNumber] = useState(1);\n\n  useEffect(() => {\n    setRequestEnd(false)\n\n    if (value) {\n      clearTimeout(timerId);\n      timerId = setTimeout(() => {\n        getPictures();\n      }, 500);\n    }\n  }, [value, pageNumber]);\n\n  const getPictures = async () => {\n    try {\n      setLoading(true)\n\n      const response = await fetch(`https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=45f050841e1b141624cc20c57101a53a&tags=${value}&per_page=3&page=${pageNumber}&format=json&nojsoncallback=1`);\n\n      const result = await response.json();\n\n      const picArray = result.photos.photo.map((pic) => {\n        const photoName = `${pic.title}`\n        const srcPath = `https://farm${pic.farm}.staticflickr.com/${pic.server}/${pic.id}_${pic.secret}.jpg`;\n        return { photoName, srcPath }\n      });\n\n      setPictures(picArray)\n      setLoading(false)\n      setRequestEnd(true)\n    } catch (error) {\n      setLoading(false)\n      setRequestEnd(true)\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    if (showStorage) {\n      const savedItem = localStorage.getItem('savedItem');\n      const jsonSavedItem = JSON.parse(savedItem);\n      setPicturesSaved(jsonSavedItem);\n    }\n  }, [showStorage]);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <div className=\"title\">\n          <h1>Image Finder</h1>\n        </div>\n        <div className=\"login\">LOG</div>\n      </header>\n      <div className=\"main\">\n        <div className=\"sidebar\">\n          <button className='button' onClick={() => setShow(!show) || setShowStorage(!showStorage)}> Search </button>\n          <button className='button' onClick={() => { setShowStorage(!showStorage) || setShow(!show) }}> Storage </button>\n        </div>\n        <div className=\"content\">\n          {show && <div className=\"searchContent\">\n            <div className=\"input\">\n              <Input value={value} onChangeText={setValue} placeholder='Enter your query to search for images' />\n            </div>\n            {loading ? (\n              <BeatLoader />\n            ) : (\n              <div className=\"fotoSearch\">\n                {pictures.map((item) => {\n                  return (\n                    <div className='imgList' key={item.srcPath}>\n                      <img alt=\"\" src={item.srcPath} className='imgItem' />\n                      <h2 className='titleImg'>{item.photoName}</h2>\n                      {<button className='buttonTools'\n                        onClick={() => {\n                          const savedItem = localStorage.getItem('savedItem');\n                          let jsonSavedItem = [];\n                          if (savedItem) {\n                            jsonSavedItem = JSON.parse(savedItem)\n                          }\n                          if (jsonSavedItem.find((elem) => elem.srcPath === item.srcPath)) {\n                            return;\n                          }\n                          jsonSavedItem.push({ srcPath: item.srcPath, photoName: item.photoName });\n                          localStorage.setItem('savedItem', JSON.stringify(jsonSavedItem))\n                        }\n                        }>Save image</button>}\n                    </div>\n                  )\n                })}\n                {value && requestEnd && !pictures.length && <h1>No items matching your search criteria...</h1>}\n                {pictures.length ? (\n                  <div className=\"tools\">\n                    <button className='buttonTools' onClick={() => setPageNumber(pageNumber <= 1 ? pageNumber = 1 : pageNumber - 1)}> Prev page </button>\n                    <div className='pageNumber' > This page number  -  {pageNumber}  </div>\n                    <button className='buttonTools' onClick={() => setPageNumber(pageNumber + 1)}> Next page </button>\n                  </div>\n                ) : ('')}\n              </div>\n            )}\n          </div>}\n          {showStorage && <div className=\"storageContent\">\n            <div className=\"fotoStorage\">\n              {picturesSaved.map((item) => {\n                return (\n                  <div className='imgList' key={item.srcPath}>\n                    <img alt=\"\" src={item.srcPath} className='imgItem' />\n                    <h2 className='titleImg'>{item.photoName}</h2>\n                    {<button className='buttonTools'\n                      onClick={() => {\n                        const filteredPictures = picturesSaved.filter((elem) => elem.srcPath !== item.srcPath);\n                        localStorage.setItem('savedItem', JSON.stringify(filteredPictures));\n                        setPicturesSaved(filteredPictures);\n                      }\n                      }> Delete image</button>}\n                  </div>\n                )\n              })}\n            </div>\n          </div>\n          }\n        </div>\n      </div>\n      <footer className=\"App-footer\">\n        <div className=\"copy\"> {'\\u00A9'} by Artem Davydov</div>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"styles_input__drOK6\"};"],"sourceRoot":""}